---
import "src/styles/styles.scss";
import Layout from "../layouts/Layout.astro";
import BlankLayout from "../layouts/Blank.astro";
import SectionRouter from "src/components/SectionRouter.astro";
import { getPageBySlug } from "../lib/payloadAPI";

const pageData = await getPageBySlug('home');
const { default_header = false, layout = "default", title = "" } = pageData;

---
{
	layout === "default" ? (
	  <Layout title={title} default_header={default_header} >
		<main>
		  <SectionRouter sections={pageData.sections} />
		</main>
	  </Layout>
	) : (
	  <BlankLayout title={title} default_header={default_header}>
		<main>
		  <SectionRouter sections={pageData.sections} />
		</main>
	  </BlankLayout>
	)
  }
